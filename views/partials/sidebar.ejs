<nav class="main-sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo-link">
                    <i class="fas fa-graduation-cap logo-icon"></i>
                    <span class="logo-text">ImtaticHub</span>
                </a>
                <button class="toggle-button d-md-none">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <ul class="sidebar-nav">
                <li><a href="/area-administrativa/painel-geral" class="nav-item" data-section="painel-geral"><i class="fas fa-chart-pie nav-icon"></i>  Painel</a></li>
                <li><a class="nav-item" href="#"><i class="fas fa-users nav-icon"></i> Usuários</a></li>
                <li><a class="nav-item" href="/area-administrativa/turmas"><i class="fas fa-chalkboard-teacher nav-icon"></i> Turmas</a></li>
                <li><a class="nav-item" href="#"><i class="fas fa-tasks nav-icon"></i> Tarefas</a></li>
                <li><a href="/area-administrativa/eventos" class="nav-item" data-section="eventos" ><i class="fas fa-calendar-alt nav-icon"></i> Calendário & Eventos</a></li>
                <li><a class="nav-item" href="#"><i class="fas fa-comments nav-icon"></i> Mensagens</a></li>
                <li><a class="nav-item" href="#"><i class="fas fa-bell nav-icon"></i> Notificações</a></li>
                <li><a class="nav-item" href="#"><i class="fas fa-cog nav-icon"></i> Configurações</a></li>
            </ul>
            <div class="sidebar-footer">
                <hr class="footer-divider">
                <div class="user-profile">
                    <img src="/images/Me.jpg" class="profile-avatar" alt="Avatar do Usuário">
                    <div class="user-info">
                        <strong class="user-name">Administrador</strong><br>
                        <small class="user-email">admin@imtatic.com</small>
                    </div>
                    <a class="logout-link" title="Sair" onclick="logout()" style="cursor: pointer;"><i class="fas fa-sign-out-alt"></i></a>
                </div>
            </div>
        </nav>
    <script src="/user/js/user.js"></script>

<script>
            function setActiveNavItem() {
                const currentPath = window.location.pathname.replace(/^\//, ''); 
                const lastPathSegment = currentPath.split('/').pop();

                const navItems = document.querySelectorAll('.sidebar-nav .nav-item');

                navItems.forEach(item => {
                    item.classList.remove('active');
                });

                navItems.forEach(item => {
                    const itemHref = item.getAttribute('href');
                    const itemDataSection = item.getAttribute('data-section');

                    let itemMatches = false;

                    if (itemHref) {
                        const cleanedItemHref = itemHref.replace(/^\//, '');
                        const lastHrefSegment = cleanedItemHref.split('/').pop();

                        if (lastPathSegment === lastHrefSegment && lastPathSegment !== '') {
                            itemMatches = true;
                        } else if (currentPath === cleanedItemHref && currentPath !== '') { 
                            itemMatches = true;
                        } else if (currentPath === '' && itemHref === '/') { 
                            itemMatches = true;
                        }
                    }

                    if (!itemMatches && itemDataSection) {
                        if (itemDataSection === lastPathSegment || currentPath.includes(itemDataSection)) {
                            itemMatches = true;
                        }
                    }
                    
                    if (currentPath === '' && itemDataSection === 'general-dashboard') {
                        itemMatches = true;
                    }

                    if (itemMatches) {
                        item.classList.add('active');
                    }
                });
            }

            document.addEventListener('DOMContentLoaded', setActiveNavItem);
</script>